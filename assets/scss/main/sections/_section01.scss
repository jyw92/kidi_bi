@use "../../abstracts/" as *;



:root{
  --sectionWidth:1348px;
}




@mixin videoOveray() {
  &::after {
    position: absolute;
    content: "";
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba($color: #000000, $alpha: 0);
    transition: all 0.5s;
  }
  &.on::after {
    background-color: rgba($color: #000000, $alpha: 0.5);
  }
}

.content--wrap{
  position: relative;
  width: 100vw;
  @include mq('md'){
    width:100%;
  }
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  .content{
    padding:0;
    padding-block-end: rem(20);
    height:100%;
  }
}


#section01 {
  position: relative;
  width: 100%;
  height: 85vh;
  @include mq('md'){
    height: auto;
  }
  // background-color: #edf3ff;
  // background: linear-gradient(#edf3ff 60%, #fff 40%);
  background-color: #edf3ff;
  padding-top: rem(110);
  &::after{
    content:"";
    border-bottom:1px solid #E9EBF3;
    position: absolute;
    width:100vw;
    height:4px;
    bottom:0px;
    left:0;
  }
}
.hero--action {
  position: relative;
  width: 0%;
  height: 0%;
  overflow: hidden;
  background-color: #000;

  // background-repeat: no-repeat;
  // background-size: cover;
  @include videoOveray();
  video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  &--text {
    @include posCenter();
    @include flex-center-column();
    color: #fff;
    z-index: 1;
    width: 100%;
    gap: rem(20);
    span {
      font-size: rem(30);
      white-space: pre;
    }
    h2 {
      font-size: rem(80);
      white-space: pre;
    }
  }
}

.hero--action.appears {
  top: 50%;
  left: 50%;
  height: 0%;
  width: 0%;
  animation: appears 2s forwards;
}

.quick--area{
  display: flex;
  height:223px;
  gap: rem(16);
  @include mq('md'){
    height:auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    padding:0 10px;
    gap: rem(10);
    #chartOptionBtn{
      grid-column: 1/5;
    }
  }
  &.gridx3{
    height:40px;
    button{
      &.quick--chart--button{
        position: relative;
      }
      &.quick--chart--button.--active{
        .front{
          color:#0069F6;
          border: 2px solid #0069F6;
        }
      }
      &.quick--chart--button.--active::after{
        position: absolute;
        content: "✓";
        top:5px;
        right:5px;
        width:20px;
        height:20px;
        border-radius: 50%;
        border: 2px solid #0069F6;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 800;
        color: #0069F6;
      }

      &:hover{
        .back{
          display: flex;
          z-index: 2;
        }
      }

      .front{
        font-size: rem(16);
        border-radius: rem(5);
        img{
          display: none;
        }
      }
      .back{
        top: 45px;
        height: 223px;
        display: none;
      }
    }
    #chartOptionBtn{
      font-size: rem(14);
      border-radius: rem(5);
      line-height: 1.1;
      img{
        display: none;
      }
    }
  }


  button{
    position: relative;
    flex:1;
    height:100%;
    
    &:hover{
      .back{
        z-index: 1;
      }
    }
  }
  .front{
    border-radius: 15px;
    height:100%;
    background: #FFF;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: rem(36);
    font-size: rem(18);
    font-weight: 700;
    padding:10px;
    color: #555;
    @include mq('md'){
      gap: rem(10);
      font-size: rem(12);
      img{
        width:50%;
      }
    }
  }
  .back{
    border-radius: 15px;
    position: absolute;
    top:0;
    width:100%;
    z-index: -1;
    border-radius: 15px;
    border: 1px solid #007DD3;
    background: #189EFB;
    box-shadow: 0px 4px 4px 0px rgba(37, 110, 255, 0.25);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    height:100%;
    padding: 34px;
    color: #fff;
    background-image: var(--back-image);
    background-repeat: no-repeat;
    background-position: 100% 100%;
    @include mq('md'){
      display: none;
    }
    li{
      list-style-type:disc;
    }
    &::after{
      content: attr(data-back-title);
      position: absolute;
      left:50%;
      transform: translateX(-50%);
      bottom:rem(20);
      font-size: 18px;
      font-weight: 700;
    }
  }
  #chartOptionBtn{
    @extend .front;
    background: linear-gradient(133deg, #0069F6 7.97%, #27BFFF 79.39%);
    color: #fff;
    gap: rem(10);
    @include mq('md'){
      padding:10px;
    }
    box-shadow: 0px 4px 4px 0px rgba(37, 110, 255, 0.25);
    @include mq('md'){
      img{
        display: none;
      }
    }
  }
}

.content--main {
  position: relative;
  width: 100vw;
  @include mq('md'){
    width:100%;
  }
  height: 100%;
  max-width: var(--sectionWidth);
  display: flex;
  flex-direction: column;
  gap: rem(20);
  // background-color: #fff;
  // align-items: center;
  // padding-block-start: rem(90);
 
  .content--padded {
    padding: var(--page-padding);
  }
  .content--full {
    display: grid;
    height: 100vh;
    place-items: center;
    grid-template-areas: "main";
    grid-template-rows: 100%;
    grid-template-columns: 100%;
  }
  .content--main--info {
    --color-text: #f5f3ee;
    --color-bg: #0e0d0e;
    --color-link: #ffffff;
    --color-link-hover: #ffffff;
    --page-padding: 0rem;
    --grid-gap: var(--page-padding);
    --color-bg-content: #0e0d0e;
    --color-bg-frame: #7a7364;
    --color-border: #46443e;
    // position: absolute;
    // top: 0;
    // right:0;
    // width: calc(var(--sectionWidth) - 183px);
    // min-height: calc(100dvh - rem(90));
    // height: calc(100vh - rem(90));
    overflow: hidden;
    display: grid;
    place-items: center;
    grid-template-areas: "main";
    grid-template-rows: 100%;
    grid-template-columns: 100%;
    transform: scale(1);
    z-index: 1;
    transition: all .5s;
    flex:1;
    @include mq('md'){
      padding:0 10px;
    }
    // padding:rem(20) rem(10);
    // background-color: #fff;
    // border: 2px solid #edf3ff;
    border-radius: 15px;
    // border: 1px solid red;
    // &.open{
    //   transform: scale(0.95);
    // }

    .content__title {
      grid-area: main;
      position: relative;
      display: flex;
      flex-direction: column;
      color: #fff;
    }

    .content__title-main {
      font-size: clamp(rem(2), 7vw, rem(4.5));
      line-height: 1;
      margin: 0.5rem 0 0;
      font-weight: 500;
      font-variation-settings: "wght" 500;
      text-wrap: balance;
      letter-spacing: -0.025em;
    }

    .content__title-main + p {
      margin: 0;
      max-width: rem(100);
    }

    // .grid {
    //  grid-area: main;
    //  display: grid;
    //  width: 100%;
    //  height: 100%;
    //  grid-template-columns: 333px 1fr 1fr;
    //  grid-template-rows: 1fr 1fr;
    //  padding:2rem;
    //  /* 명시적인 영역 이름 정의 */
    //  grid-template-areas:
    //  "search cht1 cht2"
    //  "shotcut cht3 .";
    //  .grid--item:nth-child(1) { grid-area: search;background-color: red; }
    //  .grid--item:nth-child(2) { grid-area: cht1;background-color: blue;}
    //  .grid--item:nth-child(3) { grid-area: cht2;background-color: yellow;}
    //  .grid--item:nth-child(4) { grid-area: shotcut;background-color: blueviolet;}
    //  .grid--item:nth-child(5) { grid-area: cht3; grid-column: 2/4;background-color: green;}
    // }

    .grid {
      grid-area: main;
      display: grid;
      width: 100%;
      height: 100%;
      @include mq('md'){
        height: auto;
      }
      // grid-template-columns: repeat(3, 70%);
      // grid-template-rows: repeat(2, 60%);
      gap: rem(20);
      justify-content: center;
      align-content: center;
      // aspect-ratio: 2 / 1;
      // padding: rem(20);
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 1fr);
      /* 명시적인 영역 이름 정의 */
      // grid-template-areas:
      //   "cht1 cht2"
      //   "cht3 cht4";
      transform: translateY(0);
      opacity: 0;
      transition: all 0.5s;
      .grid--item{
        border-radius: rem(5);
        border: rem(1) solid;
        border-color: transparent;
        transition: all .5s;
        // border: 1px solid #E9EBF3;
        // box-shadow: 0 rem(4) rem(4) 0 rgb(0 0 0 / 0.25), 0 rem(1) rem(2) 0 rgb(0 0 0 / 0.1);
        
        // 다크 모드 지원
        @media (prefers-color-scheme: dark) {
          // box-shadow: rem(0) rem(1) rem(4) rem(0) rgb(0 0 0 / 0.25), 0 rem(1) rem(2) 0 rgb(0 0 0 / 0.2);
        }
      }
      .grid--item:nth-child(1) {
        transform: translateX(rem(-100));
      }
      .grid--item:nth-child(2) {
        transform: translateX(rem(-100));
      }
      .grid--item:nth-child(3) {
        transform: translateX(rem(100));
      }
      .grid--item:nth-child(4) {
        transform: translateX(rem(100));
      }
      &.change {
        opacity: 1;
        .grid--item{
          transform: translateX(rem(0));
        }
      }
    }

    .grid--spaced {
      gap: var(--grid-gap);
    }
    .grid--columns {
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: repeat(2, min-content);
      align-content: center;
      .grid--item {
        height: min-content;
        aspect-ratio: 2 / 3;
      }
    }
    .grid--zoomed {
      gap: rem(2);
      justify-content: center;
      align-content: center;
      aspect-ratio: 2 / 1;
      .grid--item {
        width: 100%;
        height: 100%;
      }
    }
  }
}

// 검색어 영역
.grid--item{
  flex-direction: column;
  display: flex;
  gap: 10px;
  background-color: #fff;
  &:has(.quick--button){
    padding:0;
  }
  &:has(.chart--item){
    padding:0;
    .inner--item{
      flex-direction: column;
      display: flex;
      // gap: rem(20);
      height:100%;
    }
  }
  .grid--title{
    position: relative;
    font-size: rem(14);
    color: #555;
    text-align: left;
    padding: rem(10);
    button{
      position: absolute;
      right:0;
      background-image: url('/assets/img/ico/ico_option.svg');
      background-repeat: no-repeat;
      background-position: center;
      width:30px;
      height:30px;
      top: 50%; 
      transform: translateY(-50%); 
    }
  }
  .grid--info--area{
    border-radius: rem(5);
    overflow: hidden;
    width: 100%;
    flex:1;
    // background-color: #fff;
    &{
      img{
        object-fit: contain;
        object-position: center;
        height:100%;
      }
    }
  }
  &[data-grid-type="search"]{
    display: flex;
    flex-direction: column;
    gap: rem(34);
    padding:rem(57) rem(16);
    .grid--title{
      font-size: rem(33);
      line-height: normal;
    }
    .all--search--wrap{
      position: relative;
      input[type='search']{
        background-color: #fff;
        border-radius: rem(30);
        width:100%;
        padding-inline: rem(24) rem(60);
        font-size: rem(18);
        &::placeholder{
          color: rgba(149, 149, 149, 0.60);
          font-size: rem(18);
        }
      }
      button{
        background-image: url('/assets/img/ico/ico_all_search.svg');
        background-repeat: no-repeat;
        background-position: center;
        width:rem(40);
        height:rem(40);
        position: absolute;
        right:rem(10);
        top:50%;
        transform: translateY(-50%);
      }

      

    }
    .recommend{
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(10);
      .recommend__title{
        color: #fff;
        font-size: rem(18);
      }
      .recommend__list{
        display: flex;
        justify-content: flex-start;
        gap: rem(10);
        width:100%;
        color: #D4D6FF;
        font-size: rem(16);
      }
    }    
  }

}

//퀵메뉴 영역
.quick--wrapper{
  position: relative;
  overflow: hidden;
  height:100%;
  border-radius: rem(35);
  .quick--button{
    @include flexCenter();
    width:100%;
    border-radius: rem(35);
    border: 1px solid rgba(153, 180, 255, 0.40);
    background-color: var(--kidi-bigin-default);
    color: #fff;
    box-shadow: 0px 4px 4px 0px rgba(99, 143, 186, 0.15);
    backdrop-filter: blur(7.5px);
    font-size: rem(20);
    padding: rem(15) rem(16);
    position: relative;
    z-index: 2;
    &::after{
      content:"";
      width:14px;
      height:14px;
      background-image: url('/assets/img/ico/ico_quick_active.svg');
      position: absolute;
      right:rem(30);
      top:50%;
      transform: translateY(-50%);
    }
  }
  .quick--list{
    background-color: #fff;
    padding: rem(80) rem(16) rem(26);
    position: absolute;
    top:0;
    width:100%;
    z-index: 1;
    max-height:100%;
    border-radius: rem(35);
    font-size: rem(16);
    display: flex;
    flex-direction: column;
    transition: all .5s;
    li{
      a{
        display: flex;
        justify-content: center;
        align-items: center;
        padding-block: rem(10);
        border-radius: rem(5);
        &:hover{
          background-color: var(--kidi-bigin-default);
          color: #fff;
        }
      }
    }
  }
  &.on{
    .quick--button{
      background-color: #fff;
      color: #333;
      &::after{
        background-image: url('/assets/img/ico/ico_quick.svg');
      }
    }
    .quick--list{
      top: -100%;
    }
  }
}





@keyframes appears {
  0% {
    opacity: 1;
    width: 0%;
    height: rem(2);
  }

  50% {
    width: 100%;
    height: rem(2);
    left: 0%;
  }

  75% {
    width: 100%;
    height: rem(2);
    top: 50%;
  }

  100% {
    opacity: 1;
    width: 100%;
    height: 100%;
    left: 0%;
    top: 0%;
  }
}


@keyframes rotating {
  from {
    -ms-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -ms-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

.quick--area .refresh {
  position: absolute;
	background: #FFFFFF;
	box-shadow: 0 1px 3px 0 rgba(0,0,0,0.20);
	padding: 10px;
	border: 0;
	border-radius: 10px;
	width: 40px;
	height: 40px;
  right:-50px;
	.icon {
		fill: #555;
    width:100%;
    height:100%;
	}
	&:hover {
		background: #27BFFF;
    .icon{
      fill:#fff;
    }
	}

	&:active {
		.icon {
			fill: #fff;
		}
	}
  &.loading {
    background: #27BFFF;
    cursor: wait;
    display: flex;
    justify-content: center;
    align-items: center;
    .icon {
      fill: #fff;
      display: block;
      margin: auto;
      -webkit-animation: rotating 1.2s linear infinite;
      -moz-animation: rotating 1.2s linear infinite;
      -ms-animation: rotating 1.2s linear infinite;
      -o-animation: rotating 1.2s linear infinite;
      animation: rotating 1.2s linear infinite;
      transform-origin: center center;
    }
  }
}